{% extends "global/index.html" %}
{% block title %}EPI{% endblock title %}

{% load static %}
{% block header %}
    {% include 'global/partials/header.html' %}
{% endblock header %}

{% block content %}
<div class="container mt-4">

  <div class="card shadow-sm">
    <div class="card-header bg-danger text-white">
      <h2 class="h5 mb-0">
        <i class="fas fa-exclamation-triangle me-2"></i>
        Confirmar exclus√£o do colaborador: <strong>{{ object.nome }}</strong>
      </h2>
    </div>

    <div class="card-body">
      <p class="mb-4 fs-5">Tem certeza que deseja excluir este colaborador?</p>

      <form method="post" class="d-flex gap-2">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger px-4">Excluir</button>
        <a href="{% url 'colaborador-list' %}" class="btn btn-secondary px-4">Cancelar</a>
      </form>
    </div>
  </div>

  <!-- Mensagens -->
  {% if messages %}
  <div class="container mt-3 position-fixed top-0 end-0 p-3" style="z-index: 1050;">
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fechar"></button>
      </div>
    {% endfor %}
  </div>
  {% endif %}
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const alerts = document.querySelectorAll('.alert');
    alerts.forEach(function (alert) {
      setTimeout(function () {
        alert.classList.remove('show');
        alert.classList.add('hide');
        setTimeout(function () {
          alert.remove();
        }, 500);
      }, 3000); // tempo para sumir (3 segundos)
    });
  });
</script>
{% endblock content %}
